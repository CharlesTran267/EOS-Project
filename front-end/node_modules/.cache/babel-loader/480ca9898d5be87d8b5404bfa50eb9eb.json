{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\EOS Project\\\\front-end\\\\src\\\\View\\\\ContributePage\\\\SingleFileUpload.js\",\n    _s = $RefreshSig$();\n\nimport { Grid, LinearProgress } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport FileHeader from './FileHeader';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SingleFileUpload(file, onDelete, Images, setImages) {\n  _s();\n\n  console.log(file);\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    const uploadFile = file => {\n      let formData = new FormData();\n      const config = {\n        header: {\n          'content-type': 'multipart/form-data'\n        },\n        onUploadProgress: progressEvent => {\n          setProgress(parseInt(Math.round(progressEvent.loaded * 100 / progressEvent.total)));\n        }\n      };\n      formData.append('files', file);\n      Axios.post('/upload/uploadImage', formData, config).then(response => {\n        if (response.data.success) {\n          console.log(response.data.image);\n          setImages(Images.concat(response.data.image));\n        } else {\n          console.log(\"failed\");\n          alert('Failed to save the Image in Server');\n        }\n      });\n    };\n\n    uploadFile(file);\n    console.log(file);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    style: {\n      height: \"70px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(FileHeader, {\n      file: file,\n      onDelete: onDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n      variant: \"determinate\",\n      value: progress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SingleFileUpload, \"b4CdzD3q1gAaZ1Ql6XzmwLjMmqA=\");\n\n_c = SingleFileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"SingleFileUpload\");","map":{"version":3,"sources":["C:/Users/User/Desktop/EOS Project/front-end/src/View/ContributePage/SingleFileUpload.js"],"names":["Grid","LinearProgress","React","useState","useEffect","FileHeader","Axios","SingleFileUpload","file","onDelete","Images","setImages","console","log","progress","setProgress","uploadFile","formData","FormData","config","header","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","append","post","then","response","data","success","image","concat","alert","height"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,cAAf,QAAqC,mBAArC;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,eAAe,SAASC,gBAAT,CAA0BC,IAA1B,EAA+BC,QAA/B,EAAwCC,MAAxC,EAA+CC,SAA/C,EAAyD;AAAA;;AACpEC,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,QAAM,CAACM,QAAD,EAAUC,WAAV,IAAyBZ,QAAQ,CAAC,CAAD,CAAvC;AACAC,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMY,UAAU,GAAIR,IAAD,IAAQ;AACvB,UAAIS,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,YAAMC,MAAM,GAAG;AACXC,QAAAA,MAAM,EAAE;AAAE,0BAAgB;AAAlB,SADG;AAGXC,QAAAA,gBAAgB,EAAGC,aAAa,IAAI;AAChCP,UAAAA,WAAW,CACPQ,QAAQ,CACJC,IAAI,CAACC,KAAL,CAAYH,aAAa,CAACI,MAAd,GAAuB,GAAxB,GAA+BJ,aAAa,CAACK,KAAxD,CADI,CADD,CAAX;AAKH;AATU,OAAf;AAWAV,MAAAA,QAAQ,CAACW,MAAT,CAAgB,OAAhB,EAAwBpB,IAAxB;AACAF,MAAAA,KAAK,CAACuB,IAAN,CAAW,qBAAX,EAAkCZ,QAAlC,EAA4CE,MAA5C,EACKW,IADL,CACUC,QAAQ,IAAI;AACd,YAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACvBrB,UAAAA,OAAO,CAACC,GAAR,CAAYkB,QAAQ,CAACC,IAAT,CAAcE,KAA1B;AACAvB,UAAAA,SAAS,CAACD,MAAM,CAACyB,MAAP,CAAcJ,QAAQ,CAACC,IAAT,CAAcE,KAA5B,CAAD,CAAT;AACH,SAHD,MAGO;AACHtB,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAuB,UAAAA,KAAK,CAAC,oCAAD,CAAL;AACH;AACJ,OATL;AAUH,KAxBD;;AAyBApB,IAAAA,UAAU,CAACR,IAAD,CAAV;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACH,GA5BQ,EA4BP,EA5BO,CAAT;AA6BA,sBACI,QAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,KAAK,EAAE;AAAC6B,MAAAA,MAAM,EAAC;AAAR,KAAlB;AAAA,4BACI,QAAC,UAAD;AAAY,MAAA,IAAI,EAAE7B,IAAlB;AAAwB,MAAA,QAAQ,EAAEC;AAAlC;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,cAAD;AAAgB,MAAA,OAAO,EAAC,aAAxB;AAAsC,MAAA,KAAK,EAAEK;AAA7C;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GAtCuBP,gB;;KAAAA,gB","sourcesContent":["import { Grid, LinearProgress } from '@material-ui/core';\r\nimport React, { useState,useEffect } from 'react'\r\nimport FileHeader from './FileHeader';\r\nimport Axios from 'axios'\r\nexport default function SingleFileUpload(file,onDelete,Images,setImages){\r\n    console.log(file)\r\n    const [progress,setProgress] = useState(0)\r\n    useEffect(()=>{\r\n        const uploadFile = (file)=>{\r\n            let formData = new FormData();\r\n            const config = {\r\n                header: { 'content-type': 'multipart/form-data' }\r\n            ,\r\n                onUploadProgress : progressEvent => {\r\n                    setProgress(\r\n                        parseInt(\r\n                            Math.round((progressEvent.loaded * 100) / progressEvent.total)\r\n                        )\r\n                    );\r\n                }\r\n            }\r\n            formData.append('files',file)\r\n            Axios.post('/upload/uploadImage', formData, config)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n                        console.log(response.data.image)\r\n                        setImages(Images.concat(response.data.image))\r\n                    } else {\r\n                        console.log(\"failed\")\r\n                        alert('Failed to save the Image in Server')\r\n                    }\r\n                })\r\n        }\r\n        uploadFile(file)\r\n        console.log(file)\r\n    },[])\r\n    return (\r\n        <Grid item style={{height:\"70px\"}}>\r\n            <FileHeader file={file} onDelete={onDelete}/>\r\n            <LinearProgress variant=\"determinate\" value={progress}/>\r\n        </Grid>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}