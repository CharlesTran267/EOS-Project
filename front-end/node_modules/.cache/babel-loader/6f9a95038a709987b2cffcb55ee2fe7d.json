{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\EOS Project\\\\front-end\\\\src\\\\components\\\\Tags.js\",\n    _s = $RefreshSig$();\n\nimport { Chip } from \"@material-ui/core\";\nimport { useState, useEffect } from \"react\";\nimport { Menu, MenuItem, Popover } from \"@material-ui/core\";\nimport { useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Tags = ({\n  selectedTags,\n  setSelectedTags,\n  tags,\n  setTags\n}) => {\n  _s();\n\n  const tagsRef = useRef({});\n  const selectedTagsRef = useRef({});\n  tagsRef.current = tags;\n  selectedTagsRef.current = selectedTags;\n  console.log(selectedTagsRef);\n\n  const allTags = require(\"./Tags.json\");\n\n  const handleAdd = (tag, oritag) => {\n    console.log(tags);\n    console.log(selectedTags);\n    setSelectedTags([...selectedTagsRef.current, tag]);\n    setTags(tagsRef.current.filter(t => t != oritag));\n  };\n\n  const handleRemove = tag => {\n    setSelectedTags(selectedTagsRef.current.filter(selected => selected !== tag));\n    Object.keys(allTags).map(label => {\n      if (allTags[label].choices.includes(tag)) {\n        setTags([...tagsRef.current, allTags[label].choices[0]]);\n      }\n    });\n  };\n\n  useEffect(() => {\n    console.log(tags);\n    console.log(selectedTags);\n  }, [tags]);\n\n  const handleOpenMenu = (event, tag) => {\n    console.log(selectedTags);\n    var _id = 1;\n    Object.keys(allTags).map(label => {\n      if (allTags[label].choices[0] == tag) {\n        _id = allTags[label].id;\n      }\n    });\n\n    for (var i = 0; i < 9; i++) {\n      if (popover[i].id == _id) {\n        var newPopover = [...popover];\n        newPopover[i].anchorEl = event.currentTarget;\n        setPopover(newPopover);\n        break;\n      }\n    }\n  };\n\n  const handleMenuClose = _id => {\n    for (var i = 0; i < 9; i++) {\n      if (popover[i].id == _id) {\n        var newPopover = [...popover];\n        newPopover[i].anchorEl = null;\n        setPopover(newPopover);\n        break;\n      }\n    }\n  };\n\n  function Popover1() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"Volcano Name\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"Volcano Name\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  function Popover2() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"Silica Content\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"Silica Content\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  function Popover3() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"TAS\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"TAS\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  function Popover4() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"Eruptive Style\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"Eruptive Style\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  function Popover5() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"Particle Type\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"Particle Type\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  function Popover6() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"Glassy Type\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"Glassy Type\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  function Popover7() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"Crystallinity\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"Crystallinity\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  function Popover8() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"Aleration\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"Aleration\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  function Popover9() {\n    return Object.keys(allTags).map(taglabel => allTags[taglabel].choices[0] == \"Shape\" ? allTags[taglabel].choices.map(t => t != allTags[taglabel].choices[0] ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: () => {\n        handleAdd(t, \"Shape\");\n        handleMenuClose(allTags[taglabel].id);\n      },\n      children: [\" \", t, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 19\n    }, this) : null) : null);\n  }\n\n  const [popover, setPopover] = useState([{\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover1, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this),\n    id: 1\n  }, {\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover2, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 10\n    }, this),\n    id: 2\n  }, {\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover3, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 10\n    }, this),\n    id: 3\n  }, {\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover4, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 10\n    }, this),\n    id: 4\n  }, {\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover5, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 10\n    }, this),\n    id: 5\n  }, {\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover6, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 10\n    }, this),\n    id: 6\n  }, {\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover7, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 10\n    }, this),\n    id: 7\n  }, {\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover8, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 10\n    }, this),\n    id: 8\n  }, {\n    anchorEl: null,\n    child: /*#__PURE__*/_jsxDEV(Popover9, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 10\n    }, this),\n    id: 9\n  }]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"6px 0\",\n      display: \"flex\"\n    },\n    children: [selectedTagsRef.current.map(tag => /*#__PURE__*/_jsxDEV(Chip, {\n      style: {\n        margin: 10\n      },\n      label: tag,\n      color: \"primary\",\n      clickable: true,\n      onDelete: () => handleRemove(tag)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this)), tagsRef.current.map(tag => /*#__PURE__*/_jsxDEV(Chip, {\n      \"aria-controls\": \"menu\",\n      style: {\n        margin: 10\n      },\n      label: tag,\n      onClick: event => handleOpenMenu(event, tag),\n      clickable: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }, this)), popover.map(p => /*#__PURE__*/_jsxDEV(Popover, {\n      id: \"menu\",\n      open: Boolean(p.anchorEl),\n      onClose: () => handleMenuClose(p.id),\n      anchorEl: p.anchorEl,\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"center\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"center\"\n      },\n      children: p.child\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Tags, \"XbLqeyngDkP/99WYOadmDAfxEFU=\");\n\n_c = Tags;\nexport default Tags;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tags\");","map":{"version":3,"sources":["C:/Users/User/Desktop/EOS Project/front-end/src/components/Tags.js"],"names":["Chip","useState","useEffect","Menu","MenuItem","Popover","useRef","Tags","selectedTags","setSelectedTags","tags","setTags","tagsRef","selectedTagsRef","current","console","log","allTags","require","handleAdd","tag","oritag","filter","t","handleRemove","selected","Object","keys","map","label","choices","includes","handleOpenMenu","event","_id","id","i","popover","newPopover","anchorEl","currentTarget","setPopover","handleMenuClose","Popover1","taglabel","Popover2","Popover3","Popover4","Popover5","Popover6","Popover7","Popover8","Popover9","child","padding","display","margin","p","Boolean","vertical","horizontal"],"mappings":"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","sourcesContent":["import { Chip } from \"@material-ui/core\";\nimport { useState,useEffect } from \"react\";\nimport { Menu,MenuItem,Popover } from \"@material-ui/core\";\nimport { useRef } from \"react\";\nconst Tags = ({\n  selectedTags,\n  setSelectedTags,\n  tags,\n  setTags\n}) => {\n  const tagsRef=useRef({})\n  const selectedTagsRef=useRef({})\n  tagsRef.current=tags\n  selectedTagsRef.current = selectedTags\n  console.log(selectedTagsRef)\n  const allTags = require(\"./Tags.json\")\n  const handleAdd = (tag,oritag) => {\n    console.log(tags)\n    console.log(selectedTags)\n    setSelectedTags([...selectedTagsRef.current, tag]);\n    setTags(tagsRef.current.filter((t) => t != oritag));\n  };\n\n  const handleRemove = (tag) => {\n    setSelectedTags( selectedTagsRef.current.filter((selected) => selected !== tag ));\n   Object.keys(allTags).map(label =>{\n     if(allTags[label].choices.includes(tag)){\n      setTags([...tagsRef.current,allTags[label].choices[0]]);\n         }\n   })\n  };\nuseEffect(()=>{\n  console.log(tags)\n  console.log(selectedTags)\n},[tags])\nconst handleOpenMenu = (event, tag)=>{\n  console.log(selectedTags)\n  var _id =1;\n  Object.keys(allTags).map(label =>{\n    if(allTags[label].choices[0]==tag){\n      _id = allTags[label].id\n    }\n  })\n  for (var i=0;i<9;i++){\n    if(popover[i].id == _id){\n      var newPopover=[...popover];\n      newPopover[i].anchorEl=event.currentTarget;\n      setPopover(newPopover);\n      break;\n    }\n  }\n}\nconst handleMenuClose = (_id)=>{\n  for (var i=0;i<9;i++){\n    if(popover[i].id == _id){\n      var newPopover=[...popover];\n      newPopover[i].anchorEl=null;\n      setPopover(newPopover);\n      break;\n    }\n  }\n}\nfunction Popover1() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"Volcano Name\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"Volcano Name\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\n\nfunction Popover2() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"Silica Content\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"Silica Content\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\nfunction Popover3() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"TAS\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"TAS\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\nfunction Popover4() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"Eruptive Style\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"Eruptive Style\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\nfunction Popover5() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"Particle Type\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"Particle Type\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\nfunction Popover6() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"Glassy Type\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"Glassy Type\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\nfunction Popover7() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"Crystallinity\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"Crystallinity\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\nfunction Popover8() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"Aleration\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"Aleration\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\nfunction Popover9() {\n  return (\n    Object.keys(allTags).map((taglabel)=>\n            allTags[taglabel].choices[0]==\"Shape\"?(\n                  allTags[taglabel].choices.map((t)=>(\n                    t!=allTags[taglabel].choices[0]?(\n                  <MenuItem onClick={() => {\n                    handleAdd(t,\"Shape\");\n                    handleMenuClose(allTags[taglabel].id)\n                  }}> {t} </MenuItem>):null\n                  ))):null)\n  );\n}\n\nconst [popover, setPopover] = useState([{\n  anchorEl:null,\n  child:<Popover1/>,\n  id:1\n},{\n  anchorEl: null,\n  child: <Popover2/>,\n  id: 2 \n},{\n  anchorEl: null,\n  child: <Popover3/>,\n  id: 3 \n},{\n  anchorEl: null,\n  child: <Popover4/>,\n  id: 4 \n},{\n  anchorEl: null,\n  child: <Popover5/>,\n  id: 5 \n},{\n  anchorEl: null,\n  child: <Popover6/>,\n  id: 6\n}\n,{\n  anchorEl: null,\n  child: <Popover7/>,\n  id: 7\n},{\n  anchorEl: null,\n  child: <Popover8/>,\n  id: 8 \n},{\n  anchorEl: null,\n  child: <Popover9/>,\n  id: 9 \n}])\n  return (\n    <div style={{ padding: \"6px 0\",display: \"flex\" }}>\n      {selectedTagsRef.current.map((tag) => (\n        <Chip\n          style={{ margin:10 }}\n          label={tag}\n          color=\"primary\"\n          clickable\n          onDelete={() => handleRemove(tag)}\n        />\n      ))} \n      {tagsRef.current.map((tag) => (\n            <Chip \n            aria-controls=\"menu\"\n            style={{ margin: 10}}\n            label={tag}\n            onClick={(event)=>handleOpenMenu(event,tag)}\n            clickable\n            />))}\n      {popover.map(p => \n      <Popover\n        id=\"menu\"\n        open={Boolean(p.anchorEl)}\n        onClose={()=>handleMenuClose(p.id)}\n        anchorEl={p.anchorEl}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\"\n        }}\n      >\n        {p.child}\n      </Popover>)}\n    </div>\n  );\n};\n\nexport default Tags;"]},"metadata":{},"sourceType":"module"}