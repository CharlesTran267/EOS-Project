{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\EOS Project\\\\front-end\\\\src\\\\View\\\\ContributePage\\\\SingleFileUpload.js\",\n    _s = $RefreshSig$();\n\nimport { Grid, LinearProgress } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport FileHeader from './FileHeader';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SingleFileUpload({\n  file,\n  onDelete,\n  Images,\n  setImages\n}) {\n  _s();\n\n  const [progress, setProgress] = useState(0);\n\n  const uploadFile = file => {\n    let formData = new FormData();\n    const config = {\n      header: {\n        'content-type': 'multipart/form-data'\n      },\n      onUploadProgress: progressEvent => {\n        setProgress(parseInt(Math.round(progressEvent.loaded * 100 / progressEvent.total)));\n      }\n    };\n    formData.append('files', file);\n    Axios.post('/upload/uploadImage', formData, config).then(response => {\n      if (response.data.success) {\n        console.log(response.data.image);\n        setImages(Images.concat(response.data.image));\n      } else {\n        console.log(\"failed\");\n        alert('Failed to save the Image in Server');\n      }\n    });\n  };\n\n  useEffect(() => {\n    uploadFile(file);\n    console.log(file);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    style: {\n      height: \"70px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(FileHeader, {\n      file: file,\n      onDelete: onDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n      variant: \"determinate\",\n      value: progress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SingleFileUpload, \"b4CdzD3q1gAaZ1Ql6XzmwLjMmqA=\");\n\n_c = SingleFileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"SingleFileUpload\");","map":{"version":3,"sources":["C:/Users/User/Desktop/EOS Project/front-end/src/View/ContributePage/SingleFileUpload.js"],"names":["Grid","LinearProgress","React","useState","useEffect","FileHeader","Axios","SingleFileUpload","file","onDelete","Images","setImages","progress","setProgress","uploadFile","formData","FormData","config","header","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","append","post","then","response","data","success","console","log","image","concat","alert","height"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,cAAf,QAAqC,mBAArC;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,eAAe,SAASC,gBAAT,CAA0B;AAACC,EAAAA,IAAD;AAAMC,EAAAA,QAAN;AAAeC,EAAAA,MAAf;AAAsBC,EAAAA;AAAtB,CAA1B,EAA2D;AAAA;;AACtE,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBV,QAAQ,CAAC,CAAD,CAAvC;;AACA,QAAMW,UAAU,GAAIN,IAAD,IAAQ;AACvB,QAAIO,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,UAAMC,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAE;AAAE,wBAAgB;AAAlB,OADG;AAGXC,MAAAA,gBAAgB,EAAGC,aAAa,IAAI;AAChCP,QAAAA,WAAW,CACPQ,QAAQ,CACJC,IAAI,CAACC,KAAL,CAAYH,aAAa,CAACI,MAAd,GAAuB,GAAxB,GAA+BJ,aAAa,CAACK,KAAxD,CADI,CADD,CAAX;AAKH;AATU,KAAf;AAWAV,IAAAA,QAAQ,CAACW,MAAT,CAAgB,OAAhB,EAAwBlB,IAAxB;AACAF,IAAAA,KAAK,CAACqB,IAAN,CAAW,qBAAX,EAAkCZ,QAAlC,EAA4CE,MAA5C,EACKW,IADL,CACUC,QAAQ,IAAI;AACd,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACvBC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAAT,CAAcI,KAA1B;AACAvB,QAAAA,SAAS,CAACD,MAAM,CAACyB,MAAP,CAAcN,QAAQ,CAACC,IAAT,CAAcI,KAA5B,CAAD,CAAT;AACH,OAHD,MAGO;AACHF,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAG,QAAAA,KAAK,CAAC,oCAAD,CAAL;AACH;AACJ,KATL;AAUH,GAxBD;;AAyBAhC,EAAAA,SAAS,CAAC,MAAI;AACVU,IAAAA,UAAU,CAACN,IAAD,CAAV;AACAwB,IAAAA,OAAO,CAACC,GAAR,CAAYzB,IAAZ;AACH,GAHQ,EAGP,EAHO,CAAT;AAIA,sBACI,QAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,KAAK,EAAE;AAAC6B,MAAAA,MAAM,EAAC;AAAR,KAAlB;AAAA,4BACI,QAAC,UAAD;AAAY,MAAA,IAAI,EAAE7B,IAAlB;AAAwB,MAAA,QAAQ,EAAEC;AAAlC;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,cAAD;AAAgB,MAAA,OAAO,EAAC,aAAxB;AAAsC,MAAA,KAAK,EAAEG;AAA7C;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GArCuBL,gB;;KAAAA,gB","sourcesContent":["import { Grid, LinearProgress } from '@material-ui/core';\r\nimport React, { useState,useEffect } from 'react'\r\nimport FileHeader from './FileHeader';\r\nimport Axios from 'axios'\r\nexport default function SingleFileUpload({file,onDelete,Images,setImages}){\r\n    const [progress,setProgress] = useState(0)\r\n    const uploadFile = (file)=>{\r\n        let formData = new FormData();\r\n        const config = {\r\n            header: { 'content-type': 'multipart/form-data' }\r\n        ,\r\n            onUploadProgress : progressEvent => {\r\n                setProgress(\r\n                    parseInt(\r\n                        Math.round((progressEvent.loaded * 100) / progressEvent.total)\r\n                    )\r\n                );\r\n            }\r\n        }\r\n        formData.append('files',file)\r\n        Axios.post('/upload/uploadImage', formData, config)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    console.log(response.data.image)\r\n                    setImages(Images.concat(response.data.image))\r\n                } else {\r\n                    console.log(\"failed\")\r\n                    alert('Failed to save the Image in Server')\r\n                }\r\n            })\r\n    }\r\n    useEffect(()=>{\r\n        uploadFile(file)\r\n        console.log(file)\r\n    },[])\r\n    return (\r\n        <Grid item style={{height:\"70px\"}}>\r\n            <FileHeader file={file} onDelete={onDelete}/>\r\n            <LinearProgress variant=\"determinate\" value={progress}/>\r\n        </Grid>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}